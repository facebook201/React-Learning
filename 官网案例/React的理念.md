### 第一步 把UI划分出组件层级

根据我们的设计稿 来划分。 问题来了 怎么来划分组件，那些应该被划分为一个组件。**理想的情况下，一个组件应该只做一件事情。如果这个组件功能不断完善 应该被分为更小的组件**  UI和数据模型往往遵循着相同的信息架构。



![border](https://discountry.github.io/react/img/blog/thinking-in-react-components.png)

我们的简单应用中有5个组件。我们把每个组件展示的数据用斜体表示。

1. **FilterableProductTable (橙色):** 包含了整个例子
2. **SearchBar (蓝色):** 接受所有的*用户输入*
3. **ProductTable (绿色):** 根据*用户输入*过滤并展示*数据集合*
4. **ProductCategoryRow (绿松石色):** 展示每个*分类*的标题
5. **ProductRow (红色):** 用行来展示每个*产品*



如果你查看 `ProductTable`，你会发现表头(包含 `Name` 和 `Price` 标签)并没有作为一个组件。这是一个偏好问题，选择哪种方式目前还存在争议。在这个例子中，我们把它作为 `ProductTable` 的一部分，因为它是渲染*数据集合*的一部分，而渲染*数据集合*是 `ProductTable`的职责。然而，如果头部变得更加复杂(也就是，如果我们添加了排序功能)，它就有足够的理由成为一个单独的 `ProductTableHeader` 组件。

现在我们已经确定了原型图中的组件，让我们把它们整理成层级结构。这很容易。原型图中的子组件在层级结构中应该作为子节点。

* FilterableProductTable
  * SearchBar
  * ProductTable
    * ProductCategoryRow
    * ProductRow



你需要创建能够复用其他组件的组件，并通过 *props* 来传递数据。*props* 是一种从父级向子级传递数据的方法。如果你熟悉 *state* 的概念， 在创建静态版本的时候*不要使用 state*。State 只在交互的时候使用，即随时间变化的数据。由于这是静态版本的应用，你不需要使用它。



## 定义 UI 状态的最小(但完整)表示

想想我们的实例应用中所有数据。我们有：

- 原产品列表
- 用户输入的搜索文本
- 复选框的值
- 产品的筛选列表



让我们来看看每一条，找出哪一个是 state。每个数据只要考虑三个问题：

1. 它是通过 props 从父级传来的吗？如果是，他可能不是 state。
2. 它随着时间推移不变吗？如果是，它可能不是 state。
3. 你能够根据组件中任何其他的 state 或 props 把它计算出来吗？如果是，它不是 state。

原产品列表被作为 props 传入，所以它不是 state。搜索文本和复选框似乎是 state，因为它们随时间改变并且不能由其他任何值计算出来。最后，产品的筛选列表不是 state，因为它可以通过将原始产品列表与搜索文本和复选框的值组合计算出来。

现在我们确定了应用 state 的最小集合。接下来，我们需要确定哪个组件会改变，或拥有这个 state。React 中的数据流是单向的，并在组件层次结构中向下传递。一开始我们可能不是很清楚哪个组件应该拥有哪个 state。按照下面的 步骤来辨别：

* ​





